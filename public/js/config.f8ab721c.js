(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["config"],{1071:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"config"},[a("h2",{staticClass:"title-section"},[e._v("Personalización")]),a("div",{staticClass:"cards"},[a("article",{staticClass:"card"},[e._m(0),a("main",{staticClass:"card__body"},[a("div",{staticClass:"form-control"},[e._m(1),e._l(e.journals,(function(t){return a("div",{key:t.day,staticClass:"planning-time"},[a("div",{staticClass:"dia"},[e._v(e._s(t.day))]),a("div",{staticClass:"comienzo"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.start,expression:"journal.start"}],staticClass:"js-time",attrs:{type:"time",name:"start"+t.start,id:"start"+t.start,required:""},domProps:{value:t.start},on:{input:function(a){a.target.composing||e.$set(t,"start",a.target.value)}}})]),a("div",{staticClass:"fin"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.end,expression:"journal.end"}],staticClass:"js-time",attrs:{type:"time",name:"end"+t.end,id:"end"+t.end,required:""},domProps:{value:t.end},on:{input:function(a){a.target.composing||e.$set(t,"end",a.target.value)}}})])])}))],2),a("button",{staticClass:"btn btn--see",attrs:{type:"button"},on:{click:function(t){return e.saveJournal()}}},[e._v("Guardar")])])]),a("article",{staticClass:"card"},[e._m(2),a("main",{staticClass:"card__body"},[a("div",{staticClass:"form-control"},[a("label",{staticClass:"label"},[a("span",[e._v("Notificar por tiempo en pausa (minutos)")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.notifyTimeOut,expression:"notifyTimeOut"}],staticClass:"input",attrs:{type:"number",min:"1",max:"480"},domProps:{value:e.notifyTimeOut},on:{input:function(t){t.target.composing||(e.notifyTimeOut=t.target.value)}}})])]),a("button",{staticClass:"btn btn--see",attrs:{type:"button"},on:{click:function(t){return e.saveNotifyTime()}}},[e._v("Guardar")])])]),a("article",{staticClass:"card"},[e._m(3),a("main",{staticClass:"card__body"},[a("div",{staticClass:"form-control"},[a("div",{staticClass:"form-control"},[a("label",{staticClass:"label"},[a("span",[e._v("Contraseña actual")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password.old_password,expression:"password.old_password"}],staticClass:"input",attrs:{type:"text"},domProps:{value:e.password.old_password},on:{input:function(t){t.target.composing||e.$set(e.password,"old_password",t.target.value)}}})])]),a("div",{staticClass:"form-control"},[a("label",{staticClass:"label"},[a("span",[e._v("Nueva contraseña")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password.new_password,expression:"password.new_password"}],staticClass:"input",attrs:{type:"text"},domProps:{value:e.password.new_password},on:{input:function(t){t.target.composing||e.$set(e.password,"new_password",t.target.value)}}})])]),a("div",{staticClass:"form-control"},[a("label",{staticClass:"label"},[a("span",[e._v("Confirmar contraseña")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password.new_password_confirm,expression:"password.new_password_confirm"}],staticClass:"input",attrs:{type:"text"},domProps:{value:e.password.new_password_confirm},on:{input:function(t){t.target.composing||e.$set(e.password,"new_password_confirm",t.target.value)}}})])])]),a("button",{staticClass:"btn btn--see",attrs:{type:"button"},on:{click:function(t){return e.changePassword()}}},[e._v("Cambiar contraseña")])])]),e.user?["ADMIN"==e.user.role?a("article",{staticClass:"card"},[e._m(4),a("main",{staticClass:"card__body"},[a("div",{staticClass:"form-control"},[a("div",{staticClass:"form-control"},[a("label",{staticClass:"label"},[a("span",[e._v("Nombre")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userCreate.name,expression:"userCreate.name"}],staticClass:"input",attrs:{type:"text"},domProps:{value:e.userCreate.name},on:{input:function(t){t.target.composing||e.$set(e.userCreate,"name",t.target.value)}}})])]),a("div",{staticClass:"form-control"},[a("label",{staticClass:"label"},[a("span",[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userCreate.email,expression:"userCreate.email"}],staticClass:"input",attrs:{type:"text"},domProps:{value:e.userCreate.email},on:{input:function(t){t.target.composing||e.$set(e.userCreate,"email",t.target.value)}}})])]),a("div",{staticClass:"form-control"},[a("label",{staticClass:"label"},[a("span",[e._v("Contraseña")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userCreate.password,expression:"userCreate.password"}],staticClass:"input",attrs:{type:"text"},domProps:{value:e.userCreate.password},on:{input:function(t){t.target.composing||e.$set(e.userCreate,"password",t.target.value)}}})])]),a("div",{staticClass:"form-control"},[a("label",{staticClass:"label"},[e._v(" Role "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.userCreate.role,expression:"userCreate.role"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.userCreate,"role",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"USER"}},[e._v("User")]),a("option",{attrs:{value:"ADMIN"}},[e._v("Admin")])])])])]),a("button",{staticClass:"btn btn--see",attrs:{type:"button"},on:{click:function(t){return e.createUser()}}},[e._v("Crear usuario")])])]):e._e()]:e._e()],2)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"card__header"},[a("h3",{staticClass:"title-card"},[e._v("Jornada laboral")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"planning-time"},[a("div",{staticClass:"dia"}),a("div",{staticClass:"comienzo"},[e._v("Hora inicio")]),a("div",{staticClass:"fin"},[e._v("Hora fin")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"card__header"},[a("h3",{staticClass:"title-card"},[e._v("Notificaciones")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"card__header"},[a("h3",{staticClass:"title-card"},[e._v("Cambiar contraseña")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"card__header"},[a("h3",{staticClass:"title-card"},[e._v("Crear usuario")])])}],n=(a("b0c0"),a("96cf"),a("1da1")),o=a("5530"),i=a("bc3a"),c=a.n(i),l=a("2f62"),u={data:function(){return{journals:[],notifyTimeOut:0,password:{old_password:"",new_password:"",new_password_confirm:""},userCreate:{email:"",password:"",name:"",role:"USER"}}},computed:Object(o["a"])({},Object(l["c"])({user:"auth/user"})),created:function(){this.listarJournal()},methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])({signOutAction:"auth/signOut"})),{},{listarJournal:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.get("/config");case 3:a=t.sent,e.journals=a.data.config.journal,e.notifyTimeOut=Math.floor(a.data.config.notifyTimeOut/6e4),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log("error GET track del día: >> ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},saveNotifyTime:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=6e4*e.notifyTimeOut,t.next=4,c.a.post("/config/notify-time",{notifyTimeOut:a});case 4:s=t.sent,e.$store.commit("SET_NOTIFICATION",a),e.$toasted.show(s.data.message,{type:"success"}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log("error al enviar POST para actualizar jornada laboral: >> ",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},saveJournal:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.post("/config",e.journals);case 3:a=t.sent,e.$toasted.show(a.data.message,{type:"success"}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log("error al enviar POST para actualizar jornada laboral: >> ",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},changePassword:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.password.new_password===e.password.new_password_confirm){t.next=2;break}return t.abrupt("return",e.$toasted.show("Confirmación de contraseña incorrecta",{type:"error"}));case 2:return t.prev=2,t.next=5,c.a.post("/config/reset-password",e.password);case 5:if(a=t.sent,a.data.success){t.next=8;break}return t.abrupt("return",e.$toasted.show(a.data.message,{type:"error"}));case 8:e.signOutAction().then((function(){e.$toasted.show("Contraseña cambiada correctamente",{type:"success"}),"signin"!==e.$route.name&&e.$router.push("/signin")})),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),console.log("error al enviar POST para iniciar tiempo de trabajo: >> ",t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})))()},createUser:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.post("/config/create-user",e.userCreate);case 3:if(a=t.sent,a.data.success){t.next=6;break}return t.abrupt("return",e.$toasted.show(a.data.message,{type:"error"}));case 6:e.userCreate={email:"",password:"",name:"",role:"USER"},e.$toasted.show(a.data.message,{type:"success"}),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log("error al enviar POST para iniciar tiempo de trabajo: >> ",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()}})},d=u,p=(a("ffe2"),a("2877")),m=Object(p["a"])(d,s,r,!1,null,"316f692d",null);t["default"]=m.exports},"26c6":function(e,t,a){},ffe2:function(e,t,a){"use strict";var s=a("26c6"),r=a.n(s);r.a}}]);
//# sourceMappingURL=config.f8ab721c.js.map