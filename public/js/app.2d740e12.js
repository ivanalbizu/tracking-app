(function(t){function e(e){for(var a,r,o=e[0],c=e[1],u=e[2],l=0,d=[];l<o.length;l++)r=o[l],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);h&&h(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,r=1;r<n.length;r++){var o=n[r];0!==s[o]&&(a=!1)}a&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},r={app:0},s={app:0},i=[];function o(t){return c.p+"js/"+({admin:"admin",config:"config",signin:"signin",stats:"stats",track:"track"}[t]||t)+"."+{admin:"15e98da9",config:"f8ab721c",signin:"eaba839f",stats:"d61e6e56",track:"e977859c"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={admin:1,config:1,signin:1,stats:1,track:1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var a="css/"+({admin:"admin",config:"config",signin:"signin",stats:"stats",track:"track"}[t]||t)+"."+{admin:"fd7488cd",config:"a50e83ac",signin:"c335868c",stats:"7eb7e388",track:"4315cca7"}[t]+".css",s=c.p+a,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var u=i[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===s))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],l=u.getAttribute("data-href");if(l===a||l===s)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var a=e&&e.target&&e.target.src||s,i=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[t],h.parentNode.removeChild(h),n(i)},h.href=s;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){r[t]=0})));var a=s[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,n){a=s[t]=[e,n]}));e.push(a[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(h);var n=s[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}s[t]=void 0}};var h=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var h=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},4360:function(t,e,n){"use strict";var a=n("2b0e"),r=n("2f62"),s=(n("96cf"),n("1da1")),i=n("bc3a"),o=n.n(i),c={namespaced:!0,state:{token:null,user:null},getters:{authenticated:function(t){return t.token&&t.user},user:function(t){return t.user}},mutations:{SET_TOKEN:function(t,e){t.token=e},SET_USER:function(t,e){t.user=e}},actions:{signIn:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.dispatch,n.next=3,o.a.post("auth/signin",e);case 3:return r=n.sent,n.abrupt("return",a("attempt",r.data.token));case 5:case"end":return n.stop()}}),n)})))()},attempt:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function n(){var a,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=t.commit,r=t.state,e&&a("SET_TOKEN",e),r.token){n.next=4;break}return n.abrupt("return");case 4:return n.prev=4,n.next=7,o.a.get("auth/me");case 7:s=n.sent,a("SET_USER",s.data),n.next=15;break;case 11:n.prev=11,n.t0=n["catch"](4),a("SET_TOKEN",null),a("SET_USER",null);case 15:case"end":return n.stop()}}),n,null,[[4,11]])})))()},signOut:function(t){var e=t.commit;e("SET_TOKEN",null),e("SET_USER",null)}}},u=c,l={state:{io:{}},mutations:{SET_SOCKET:function(t,e){t.io=e},SOCKET_CLIENT_CLOSE:function(t){t.io={}}}},d=l,h={state:{notification:3e3},getters:{notification:function(t){return t.notification}},mutations:{SET_NOTIFICATION:function(t,e){t.notification=e}}},f=h;a["a"].use(r["a"]);e["a"]=new r["a"].Store({modules:{auth:u,socket:d,notification:f}})},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("button",{staticClass:"ham btn btn--ham",attrs:{type:"button"},on:{click:t.ham}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewbox:"0 0 24 24",fill:"none",stroke:"#212121","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}},[n("line",{attrs:{x1:"3",y1:"12",x2:"21",y2:"12"}}),n("line",{attrs:{x1:"3",y1:"6",x2:"21",y2:"6"}}),n("line",{attrs:{x1:"3",y1:"18",x2:"21",y2:"18"}})])]),n("TheHeader"),n("TheAside"),n("main",{staticClass:"main",attrs:{id:"app"}},[n("router-view")],1)],1)},s=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"header"},[t.authenticated?[n("h1",{staticClass:"title-page"},[t._v(t._s(t.user.name))]),n("button",{staticClass:"btn btn--signout",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.signOut(e)}}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#242424","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}},[n("path",{attrs:{d:"M10 3H6a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h4M16 17l5-5-5-5M19.8 12H9"}})])])]:t._e()],2)},o=[],c=(n("b0c0"),n("5530")),u=n("2f62"),l={computed:Object(c["a"])({},Object(u["c"])({authenticated:"auth/authenticated",user:"auth/user"})),methods:Object(c["a"])(Object(c["a"])({},Object(u["b"])({signOutAction:"auth/signOut"})),{},{signOut:function(){var t=this;this.signOutAction().then((function(){"signin"!==t.$route.name&&t.$router.push("/signin")}))}})},d=l,h=n("2877"),f=Object(h["a"])(d,i,o,!1,null,null,null),m=f.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("aside",{staticClass:"aside"},[n("nav",{staticClass:"nav"},[n("router-link",{staticClass:"nav__item",attrs:{to:"/"}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewbox:"0 0 24 24",fill:"none",stroke:"#212121","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}},[n("path",{attrs:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}}),n("polyline",{attrs:{points:"9 22 9 12 15 12 15 22"}})]),n("span",{staticClass:"menu-txt"},[t._v("Home")])]),n("router-link",{staticClass:"nav__item",attrs:{to:"/track"}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewbox:"0 0 24 24",fill:"none",stroke:"#212121","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}},[n("rect",{attrs:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}}),n("line",{attrs:{x1:"16",y1:"2",x2:"16",y2:"6"}}),n("line",{attrs:{x1:"8",y1:"2",x2:"8",y2:"6"}}),n("line",{attrs:{x1:"3",y1:"10",x2:"21",y2:"10"}})]),n("span",{staticClass:"menu-txt"},[t._v("Tracking")])]),n("router-link",{staticClass:"nav__item",attrs:{to:"/stats"}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewbox:"0 0 24 24",fill:"none",stroke:"#212121","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}},[n("path",{attrs:{d:"M3 3v18h18"}}),n("path",{attrs:{d:"M18.7 8l-5.1 5.2-2.8-2.7L7 14.3"}})]),n("span",{staticClass:"menu-txt"},[t._v("Stats")])]),n("router-link",{staticClass:"nav__item",attrs:{to:"/config"}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewbox:"0 0 24 24",fill:"none",stroke:"#212121","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}},[n("line",{attrs:{x1:"4",y1:"21",x2:"4",y2:"14"}}),n("line",{attrs:{x1:"4",y1:"10",x2:"4",y2:"3"}}),n("line",{attrs:{x1:"12",y1:"21",x2:"12",y2:"12"}}),n("line",{attrs:{x1:"12",y1:"8",x2:"12",y2:"3"}}),n("line",{attrs:{x1:"20",y1:"21",x2:"20",y2:"16"}}),n("line",{attrs:{x1:"20",y1:"12",x2:"20",y2:"3"}}),n("line",{attrs:{x1:"1",y1:"14",x2:"7",y2:"14"}}),n("line",{attrs:{x1:"9",y1:"8",x2:"15",y2:"8"}}),n("line",{attrs:{x1:"17",y1:"16",x2:"23",y2:"16"}})]),n("span",{staticClass:"menu-txt"},[t._v("Config")])]),this.$store.getters["auth/user"]&&"ADMIN"==this.$store.getters["auth/user"].role?[n("router-link",{staticClass:"nav__item",attrs:{to:"/admin"}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#242424","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}},[n("rect",{attrs:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}}),n("path",{attrs:{d:"M7 11V7a5 5 0 0 1 10 0v4"}})]),t._v(" "),n("span",{staticClass:"menu-txt"},[t._v("Admin")])])]:t._e()],2)])},g=[],v=(n("b69b"),{}),_=Object(h["a"])(v,p,g,!1,null,null,null),b=_.exports,k=n("4360"),w={components:{TheHeader:m,TheAside:b},watch:{$route:function(t){document.title=t.meta.title||"Tracker App"}},created:function(){window.addEventListener("beforeunload",this.userLeave),this.userEnter()},methods:{userLeave:function(){var t,e;(null===(t=k["a"].getters["auth/user"])||void 0===t?void 0:t.email)&&this.$socket.emit("user_leave",null===(e=k["a"].getters["auth/user"])||void 0===e?void 0:e.email)},userEnter:function(){var t;(null===(t=k["a"].getters["auth/user"])||void 0===t?void 0:t.email)&&this.$socket.emit("user_enter",k["a"].getters["auth/user"].email)},userPause:function(){var t;(null===(t=k["a"].getters["auth/user"])||void 0===t?void 0:t.email)&&this.$socket.emit("user_pause",k["a"].getters["auth/user"].email)},ham:function(){event.target.closest(".wrapper").classList.toggle("ham--full")}}},y=w,x=(n("5c0b"),Object(h["a"])(y,r,s,!1,null,null,null)),C=x.exports,E=(n("45fc"),n("d3b7"),n("8c4f")),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"home"},[n("div",{staticClass:"cards"},[n("article",{staticClass:"card"},[t._m(0),t._m(1),n("footer",{staticClass:"card__footer"},[n("router-link",{staticClass:"btn btn--see",attrs:{to:"/stats"}},[t._v("Ir a estadísticas")])],1)]),n("article",{staticClass:"card"},[t._m(2),t._m(3),n("footer",{staticClass:"card__footer"},[n("router-link",{staticClass:"btn btn--see",attrs:{to:"/track"}},[t._v("Ir a tracker")])],1)]),n("article",{staticClass:"card"},[t._m(4),t._m(5),n("footer",{staticClass:"card__footer"},[n("router-link",{staticClass:"btn btn--see",attrs:{to:"/config"}},[t._v("Ir a configuración")])],1)])])])},O=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"card__header"},[n("h3",[t._v("Estadísticas")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"card__body"},[n("p",[t._v("Visualiza como fue tu tracking durante los días anteriores, eligiendo el mes que quieras visualizar")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"card__header"},[n("h3",[t._v("Tracking")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"card__body"},[n("p",[t._v("Inicia el seguimiento de tus tiempos trabajados y las pausas que vas tomando durante tu jornada laboral")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"card__header"},[n("h3",[t._v("Configuración")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"card__body"},[n("p",[t._v("Accede a tu panel de control para configurar alertas, tu jornada laboral por días, horarios de entrada y salidas")])])}],S={},j=Object(h["a"])(S,T,O,!1,null,null,null),A=j.exports;a["a"].use(E["a"]);var P=[{path:"/",name:"home",component:A,meta:{title:"Home Page - Tracker App",requiresAuth:!0}},{path:"/signin",name:"signin",component:function(){return n.e("signin").then(n.bind(null,"54e2"))},meta:{title:"Login - Tracker App"}},{path:"/stats",name:"stats",component:function(){return n.e("stats").then(n.bind(null,"ed93"))},meta:{title:"Stats Page - Tracker App",requiresAuth:!0}},{path:"/track",name:"track",component:function(){return n.e("track").then(n.bind(null,"53a4"))},meta:{requiresAuth:!0,title:"Tracking Page - Tracker App"}},{path:"/config",name:"config",component:function(){return n.e("config").then(n.bind(null,"1071"))},meta:{requiresAuth:!0,title:"Personal Config Page - Tracker App"}},{path:"/admin",name:"admin",component:function(){return n.e("admin").then(n.bind(null,"3530"))},meta:{requiresAuth:!0,requiresRoleAdmin:!0,title:"Personal Config Page - Tracker App"}}],$=new E["a"]({mode:"history",base:"/",routes:P});$.beforeEach((function(t,e,n){t.matched.some((function(t){return t.meta.requiresAuth}))?k["a"].getters["auth/authenticated"]?(t.matched.some((function(t){return t.meta.requiresRoleAdmin}))&&("ADMIN"!=k["a"].getters["auth/user"].role?n({path:"/"}):n()),n()):n({path:"signin"}):n()}));var I=$,N=n("bc3a"),L=n.n(N),q=n("5132"),M=n.n(q),K=n("a65d"),R=n.n(K),H=n("1881"),B=n.n(H);a["a"].use(R.a,{duration:5e3,position:"bottom-right"}),a["a"].use(B.a),n("66c6"),L.a.defaults.baseURL="api/",a["a"].use(new M.a({debug:!0,connection:"https://calm-sierra-02190.herokuapp.com/",vuex:{store:k["a"],actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"}})),a["a"].config.productionTip=!1,k["a"].dispatch("auth/attempt",localStorage.getItem("token")).then((function(){new a["a"]({router:I,store:k["a"],beforeCreate:function(){k["a"].commit("SET_SOCKET",this.$socket)},render:function(t){return t(C)}}).$mount("#app")}))},"5c0b":function(t,e,n){"use strict";var a=n("9c0c"),r=n.n(a);r.a},"66c6":function(t,e,n){"use strict";n.r(e);var a=n("4360"),r=n("bc3a"),s=n.n(r);a["a"].subscribe((function(t){switch(t.type){case"auth/SET_TOKEN":t.payload?(s.a.defaults.headers.common["Authorization"]="Bearer ".concat(t.payload),localStorage.setItem("token",t.payload)):(s.a.defaults.headers.common["Authorization"]=null,localStorage.removeItem("token"));break;default:break}}))},"9c0c":function(t,e,n){},b69b:function(t,e,n){"use strict";var a=n("cfb9"),r=n.n(a);r.a},cfb9:function(t,e,n){}});
//# sourceMappingURL=app.2d740e12.js.map